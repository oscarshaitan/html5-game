<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Neon Defense</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
    <div id="game-container">
        <canvas id="gameCanvas"></canvas>

        <div id="ui-layer">
            <div id="stats-bar">
                <div class="stat clickable" onclick="toggleWavePanel()">WAVE: <span id="wave-display">1</span> <span
                        class="info-icon">ⓘ</span></div>
                <div id="timer-display">NEXT WAVE: 30s</div>
                <div class="stat">LIVES: <span id="lives-display">20</span></div>
                <div class="stat highlight">CREDITS: <span id="money-display">100</span></div>
                <div class="stat" id="enemy-info">ENEMIES: 0</div>
                <button id="mute-btn-hud" class="mute-btn" onclick="toggleMute()">SOUND: ON</button>
                <button id="pause-btn" onclick="togglePause()">II</button>
            </div>

            <div id="wave-controls">
                <button id="skip-btn" onclick="skipPrep()">START WAVE</button>
            </div>

            <div id="selection-panel" class="hidden">
                <div id="selected-stats">
                    <h3>TOWER INFO</h3>
                    <div id="sel-type">Type: Basic</div>
                    <div id="sel-level">Level: 1</div>
                    <div id="sel-damage">Damage: 10</div>
                    <div id="sel-range">Range: 100</div>
                </div>
                <div class="actions">
                    <button class="action-btn upgrade" onclick="upgradeTower()">
                        UPGRADE <span id="upgrade-cost">($50)</span>
                    </button>
                    <button class="action-btn sell" onclick="sellTower()">
                        SELL <span id="sell-refund">($35)</span>
                    </button>
                    <button class="action-btn close" onclick="deselectTower()">X</button>
                </div>
            </div>

            <div id="controls-bar">
                <div class="tower-selector selected" data-type="basic" onclick="selectTower('basic')">
                    <div class="key-hint">Q</div>
                    <div class="tower-icon basic-icon"></div>
                    <div class="tower-cost">50</div>
                </div>
                <div class="tower-selector" data-type="rapid" onclick="selectTower('rapid')">
                    <div class="key-hint">W</div>
                    <div class="tower-icon rapid-icon"></div>
                    <div class="tower-cost">120</div>
                </div>
                <div class="tower-selector" data-type="sniper" onclick="selectTower('sniper')">
                    <div class="key-hint">E</div>
                    <div class="tower-icon sniper-icon"></div>
                    <div class="tower-cost">200</div>
                </div>
                <button id="recenter-btn" onclick="resetCamera()" title="Reset Camera">⌖</button>
            </div>

            <div id="game-over-screen" class="hidden">
                <h1>SYSTEM FAILURE</h1>
                <p>SECTOR OVERRUN</p>
                <button onclick="resetGame()">REBOOT SYSTEM</button>
            </div>

            <div id="wave-info-panel" class="hidden">
                <div class="panel-header">
                    <h2>WAVE INTELLIGENCE</h2>
                    <button class="close-panel" onclick="toggleWavePanel()">X</button>
                </div>
                <div id="wave-intel-content">
                    <div class="intel-group">
                        <label>ENEMY CAPACITY:</label>
                        <span id="intel-count">0</span>
                    </div>
                    <div class="intel-group">
                        <label>MUTATION POTENTIAL:</label>
                        <span id="intel-mutant-chance">0%</span>
                    </div>
                    <div class="intel-group">
                        <label>THREAT LEVEL:</label>
                        <span id="intel-threat">NORMAL</span>
                    </div>
                    <div class="intel-group">
                        <label>SPECIAL DATA:</label>
                        <ul id="intel-special">
                            <li>None</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div id="pause-menu" class="hidden">
                <h1>PAUSED</h1>
                <div class="menu-buttons">
                    <button onclick="togglePause()">RESUME</button>
                    <button onclick="saveGame()">FORCE SAVE</button>
                    <a href="manual.html" target="_blank" class="menu-link">PLAYER MANUAL</a>
                    <a href="technical_docs.html" target="_blank" class="menu-link">TECH SPECS</a>
                    <div class="sound-settings">
                        <h3>AUDIO SETTINGS</h3>
                        <div class="setting-item">
                            <label>MUSIC</label>
                            <input type="range" min="0" max="1" step="0.05" value="0.5" id="music-slider"
                                oninput="setMusicVolume(this.value)">
                        </div>
                        <div class="setting-item">
                            <label>SFX</label>
                            <input type="range" min="0" max="1" step="0.05" value="0.7" id="sfx-slider"
                                oninput="setSFXVolume(this.value)">
                        </div>
                        <button id="master-mute-btn" onclick="toggleMute()">SOUND: ON</button>
                    </div>
                    <button onclick="fullReset()">RESET DATA</button>
                </div>
            </div>

            <div id="start-screen">
                <h1>NEON DEFENSE</h1>
                <p>PROTECT THE CORE</p>
                <button onclick="startGame()">INITIATE</button>
                <div class="start-links">
                    <a href="manual.html" target="_blank">MANUAL</a>
                    <a href="technical_docs.html" target="_blank">TECHNICAL</a>
                </div>
            </div>
        </div>
    </div>
    <script src="game.js"></script>
</body>

</html>